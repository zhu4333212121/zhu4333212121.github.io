import{o as j,a as z,i as M,s as O,b as m}from"./lifecycle.BXe8Dhbv.js";import{c as T,f as k,a as f,p as D,b as I,g as s,m as u,d as $,s as q,e as x,r as A,t as E,h}from"./utils.C-MSO5Ew.js";import{i as F}from"./if.DWTK_nJS.js";import{b as v}from"./this.D2hvuHGW.js";import{p as e}from"./config.DdzV4bgS.js";/* empty css                        */var B=$('<div><div class="pio-action"></div> <canvas id="pio"></canvas></div>');function Q(P,g){I(g,!1);const _={mode:e.mode,hidden:e.hiddenOnMobile,content:e.dialog||{},model:e.models||["/pio/models/pio/model.json"]};let b=null,c=!1,r=u(),l=u();function d(){if(typeof window<"u"&&typeof Paul_Pio<"u")try{s(r)&&s(l)&&!c?(b=new Paul_Pio(_),c=!0,console.log("Pio initialized successfully (Svelte)")):(!s(r)||!s(l))&&(console.warn("Pio DOM elements not found, retrying..."),setTimeout(d,100))}catch(i){console.error("Pio initialization error:",i)}else setTimeout(d,100)}function w(){if(typeof window>"u")return;const i=(o,t)=>new Promise((n,S)=>{if(document.querySelector(`#${t}`)){n();return}const a=document.createElement("script");a.id=t,a.src=o,a.onload=n,a.onerror=S,document.head.appendChild(a)});i("/pio/static/l2d.js","pio-l2d-script").then(()=>i("/pio/static/pio.js","pio-main-script")).then(()=>{setTimeout(d,100)}).catch(o=>{console.error("Failed to load Pio scripts:",o)})}j(()=>{w()}),z(()=>{console.log("Pio Svelte component destroyed (keeping instance alive)")}),M();var p=T(),y=k(p);{var C=i=>{var o=B(),t=q(x(o),2);v(t,n=>h(l,n),()=>s(l)),A(o),v(o,n=>h(r,n),()=>s(r)),E(()=>{O(o,1,`pio-container ${e.position}`),m(t,"width",e.width),m(t,"height",e.height)}),f(i,o)};F(y,i=>{i(C)})}f(P,p),D()}export{Q as default};
