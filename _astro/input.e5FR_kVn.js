import{a8 as _,a9 as b,u as i,j as m,z as y,P as v,aa as h}from"./utils.C-MSO5Ew.js";function E(a,l,u=l){var f=new WeakSet;_(a,"input",async r=>{var e=r?a.defaultValue:a.value;if(e=t(a)?o(e):e,u(e),v!==null&&f.add(v),await b(),e!==(e=l())){var d=a.selectionStart,s=a.selectionEnd,n=a.value.length;if(a.value=e??"",s!==null){var c=a.value.length;d===s&&s===n&&c>n?(a.selectionStart=c,a.selectionEnd=c):(a.selectionStart=d,a.selectionEnd=Math.min(s,c))}}}),(y&&a.defaultValue!==a.value||i(l)==null&&a.value)&&(u(t(a)?o(a.value):a.value),v!==null&&f.add(v)),m(()=>{var r=l();if(a===document.activeElement){var e=h??v;if(f.has(e))return}t(a)&&r===o(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function t(a){var l=a.type;return l==="number"||l==="range"}function o(a){return a===""?null:+a}export{E as b};
